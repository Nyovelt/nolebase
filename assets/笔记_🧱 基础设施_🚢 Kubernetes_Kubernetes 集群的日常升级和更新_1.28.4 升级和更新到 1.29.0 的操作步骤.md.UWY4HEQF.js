import{_ as d,c as r,J as a,m as i,a as s,w as t,V as n,E as l,o}from"./chunks/framework.WH0rnJL5.js";const R=JSON.parse('{"title":"1.28.4 å‡çº§å’Œæ›´æ–°åˆ° 1.29.0 çš„æ“ä½œæ­¥éª¤","description":"","frontmatter":{"tags":["è®¡ç®—æœº/æ“ä½œç³»ç»Ÿ/Linux","æ“ä½œç³»ç»Ÿ/Debian","æ“ä½œç³»ç»Ÿ/Unix","è¿ç»´/äº‘åŸç”Ÿ/Kubernetes/K8s","è¿ç»´/äº‘åŸç”Ÿ/Kubernetes","å‘½ä»¤è¡Œ/kubectl","è½¯ä»¶/äº‘åŸç”Ÿ/kubectl","å‘½ä»¤è¡Œ/kubeadm","è½¯ä»¶/äº‘åŸç”Ÿ/kubeadm","è½¯ä»¶/äº‘åŸç”Ÿ/kubelet","å‘½ä»¤è¡Œ/apt","è®¡ç®—æœº/ç½‘ç»œ/Cilium","è¿ç»´/Cilium","å‘½ä»¤è¡Œ/cilium","è½¯ä»¶/äº‘åŸç”Ÿ/Cilium","æ“ä½œç³»ç»Ÿ/Debian/Debian-12"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/Kubernetes é›†ç¾¤çš„æ—¥å¸¸å‡çº§å’Œæ›´æ–°/1.28.4 å‡çº§å’Œæ›´æ–°åˆ° 1.29.0 çš„æ“ä½œæ­¥éª¤.md","filePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/Kubernetes é›†ç¾¤çš„æ—¥å¸¸å‡çº§å’Œæ›´æ–°/1.28.4 å‡çº§å’Œæ›´æ–°åˆ° 1.29.0 çš„æ“ä½œæ­¥éª¤.md"}'),g={name:"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/Kubernetes é›†ç¾¤çš„æ—¥å¸¸å‡çº§å’Œæ›´æ–°/1.28.4 å‡çº§å’Œæ›´æ–°åˆ° 1.29.0 çš„æ“ä½œæ­¥éª¤.md"},c=i("h1",{id:"_1-28-4-å‡çº§å’Œæ›´æ–°åˆ°-1-29-0-çš„æ“ä½œæ­¥éª¤",tabindex:"-1"},[s("1.28.4 å‡çº§å’Œæ›´æ–°åˆ° 1.29.0 çš„æ“ä½œæ­¥éª¤ "),i("a",{class:"header-anchor",href:"#_1-28-4-å‡çº§å’Œæ›´æ–°åˆ°-1-29-0-çš„æ“ä½œæ­¥éª¤","aria-label":'Permalink to "1.28.4 å‡çº§å’Œæ›´æ–°åˆ° 1.29.0 çš„æ“ä½œæ­¥éª¤"'},"â€‹")],-1),u=n('<h2 id="å…ˆå†³æ¡ä»¶" tabindex="-1">å…ˆå†³æ¡ä»¶ <a class="header-anchor" href="#å…ˆå†³æ¡ä»¶" aria-label="Permalink to &quot;å…ˆå†³æ¡ä»¶&quot;">â€‹</a></h2><h3 id="æ£€æŸ¥-kubelet-kubeadm-å’Œ-kubectl-çš„ä¾èµ–çŠ¶æ€" tabindex="-1">æ£€æŸ¥ <code>kubelet</code>ï¼Œ<code>kubeadm</code> å’Œ <code>kubectl</code> çš„ä¾èµ–çŠ¶æ€ <a class="header-anchor" href="#æ£€æŸ¥-kubelet-kubeadm-å’Œ-kubectl-çš„ä¾èµ–çŠ¶æ€" aria-label="Permalink to &quot;æ£€æŸ¥ `kubelet`ï¼Œ`kubeadm` å’Œ `kubectl` çš„ä¾èµ–çŠ¶æ€&quot;">â€‹</a></h3><p>æˆ‘ä»¬å…ˆæ£€æŸ¥ä¸€ä¸‹å½“å‰ä¾èµ–å¯¹åº”çš„ Repository é…ç½®æ˜¯å¦æ­£ç¡®ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt info kubelet</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt info kubeadm</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt info kubectl</span></span></code></pre></div><p>ä¸€èˆ¬è€Œè¨€ï¼Œ1.29 çš„é›†ç¾¤å¯¹åº”çš„ <code>apt</code> Repository åº”è¯¥éƒ½æ˜¯</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://pkgs.k8s.io/core:/stable:/v1.29/deb</span></span></code></pre></div><h2 id="å‡çº§ç¬¬ä¸€ä¸ªæ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„-kubeadm" tabindex="-1">å‡çº§ç¬¬ä¸€ä¸ªæ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„ <code>kubeadm</code> <a class="header-anchor" href="#å‡çº§ç¬¬ä¸€ä¸ªæ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„-kubeadm" aria-label="Permalink to &quot;å‡çº§ç¬¬ä¸€ä¸ªæ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„ `kubeadm`&quot;">â€‹</a></h2>',9),y=n(`<h3 id="å‡†å¤‡-kubeadm-å‡çº§è®¡åˆ’" tabindex="-1">å‡†å¤‡ <code>kubeadm</code> å‡çº§è®¡åˆ’ <a class="header-anchor" href="#å‡†å¤‡-kubeadm-å‡çº§è®¡åˆ’" aria-label="Permalink to &quot;å‡†å¤‡ \`kubeadm\` å‡çº§è®¡åˆ’&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm upgrade plan</span></span></code></pre></div><p>å®ƒä¼šæœ‰è¿™æ ·çš„è¾“å‡º</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo kubeadm upgrade plan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] Making sure the configuration is correct:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] Reading configuration from the cluster...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] FYI: You can look at this config file with </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;kubectl -n kube-system get cm kubeadm-config -o yaml&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[preflight] Running pre-flight checks.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Running cluster health checks</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Fetching available versions to upgrade to</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] Cluster version: v1.28.4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] kubeadm version: v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] Target version: v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] Latest version </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the v1.28 series: v1.28.5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">W1221</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 21</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:30:35.414895   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12861</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configset.go:78] Warning: No kubeproxy.config.k8s.io/v1alpha1 config is loaded. Continuing without it: configmaps &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not found</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Components</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that must be upgraded manually after you have upgraded the control plane with &#39;kubeadm upgrade apply&#39;:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">COMPONENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   CURRENT       TARGET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubelet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> x v1.28.4   v1.28.5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to the latest version in the v1.28 series:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">COMPONENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 CURRENT   TARGET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-apiserver</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            v1.28.4   v1.28.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-controller-manager</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.4   v1.28.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            v1.28.4   v1.28.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                v1.28.4   v1.28.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">CoreDNS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                   v1.10.1   v1.11.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                      3.5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.9-0   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3.5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.10-0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">You</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> can now apply the upgrade by executing the following command:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">	kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade apply v1.28.5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">_____________________________________________________________________</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Components</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that must be upgraded manually after you have upgraded the control plane with &#39;kubeadm upgrade apply&#39;:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">COMPONENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   CURRENT       TARGET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubelet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> x v1.28.4   v1.29.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to the latest stable version:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">COMPONENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 CURRENT   TARGET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-apiserver</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            v1.28.4   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-controller-manager</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.4   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            v1.28.4   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                v1.28.4   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">CoreDNS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                   v1.10.1   v1.11.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                      3.5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.9-0   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3.5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.10-0</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">You</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> can now apply the upgrade by executing the following command:</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">	kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade apply v1.29.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">_____________________________________________________________________</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> table below shows the current state of component configs as understood by this version of kubeadm.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Configs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that have a &quot;yes&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mark in the &quot;MANUAL UPGRADE REQUIRED&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> column require manual config upgrade or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">resetting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to kubeadm defaults before a successful upgrade can be performed. The version to manually</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to is denoted in the &quot;PREFERRED VERSION&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> column.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GROUP                 CURRENT VERSION   PREFERRED VERSION   MANUAL UPGRADE REQUIRED</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubeproxy.config.k8s.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   -                 v1alpha1            no</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubelet.config.k8s.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     v1beta1           v1beta1             no</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">_____________________________________________________________________</span></span></code></pre></div><p>å‡†å¤‡æ— è¯¯ä¹‹åå°±å¯ä»¥å‡çº§äº†ã€‚</p><h3 id="åº”ç”¨-kubeadm-å‡çº§" tabindex="-1">åº”ç”¨ <code>kubeadm</code> å‡çº§ <a class="header-anchor" href="#åº”ç”¨-kubeadm-å‡çº§" aria-label="Permalink to &quot;åº”ç”¨ \`kubeadm\` å‡çº§&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm upgrade apply v1.29.0</span></span></code></pre></div><p>è¾“å‡ºå°±åƒè¿™æ ·ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo kubeadm upgrade apply v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] Making sure the configuration is correct:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] Reading configuration from the cluster...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] FYI: You can look at this config file with </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;kubectl -n kube-system get cm kubeadm-config -o yaml&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">W1221</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 21</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:30:57.403724   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12875</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configset.go:78] Warning: No kubeproxy.config.k8s.io/v1alpha1 config is loaded. Continuing without it: configmaps &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not found</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[preflight] Running pre-flight checks.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Running cluster health checks</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/version] You have chosen to change the cluster version to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;v1.29.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] Cluster version: v1.28.4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] kubeadm version: v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Are you sure you want to proceed</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [y/N]: y</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/prepull] Pulling images required </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> setting up a Kubernetes cluster</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/prepull] This might take a minute or two, depending on the speed of your internet connection</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/prepull] You can also perform this action </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> beforehand using </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;kubeadm config images pull&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/apply] Upgrading your Static Pod-hosted control plane to version </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;v1.29.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/etcd] Upgrading to TLS </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> etcd</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Preparing </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;etcd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing etcd-server certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing etcd-peer certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing etcd-healthcheck-client certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Moved new manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/manifests/etcd.yaml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> and backed up old manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-backup-manifests-2023-12-21-21-35-14/etcd.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelet to restart the component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] This might take a minute or longer depending on the component/version gap (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[apiclient] Found 1 Pods </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> label selector component=etcd</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Component </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;etcd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgraded successfully</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/etcd] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> etcd to become available</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Writing new Static Pod manifests to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-upgraded-manifests2962562190&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Preparing </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-apiserver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing apiserver certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing apiserver-kubelet-client certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing front-proxy-client certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing apiserver-etcd-client certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Moved new manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/manifests/kube-apiserver.yaml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> and backed up old manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-backup-manifests-2023-12-21-21-35-14/kube-apiserver.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelet to restart the component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] This might take a minute or longer depending on the component/version gap (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[apiclient] Found 1 Pods </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> label selector component=kube-apiserver</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Component </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kube-apiserver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgraded successfully</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Preparing </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-controller-manager&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing controller-manager.conf certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Moved new manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/manifests/kube-controller-manager.yaml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> and backed up old manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-backup-manifests-2023-12-21-21-35-14/kube-controller-manager.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelet to restart the component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] This might take a minute or longer depending on the component/version gap (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[apiclient] Found 1 Pods </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> label selector component=kube-controller-manager</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Component </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kube-controller-manager&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgraded successfully</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Preparing </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-scheduler&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing scheduler.conf certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Moved new manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/manifests/kube-scheduler.yaml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> and backed up old manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-backup-manifests-2023-12-21-21-35-14/kube-scheduler.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelet to restart the component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] This might take a minute or longer depending on the component/version gap (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[apiclient] Found 1 Pods </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> label selector component=kube-scheduler</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Component </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kube-scheduler&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgraded successfully</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upload-config] Storing the configuration used </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ConfigMap </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kubeadm-config&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kube-system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> Namespace</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[kubelet] Creating a ConfigMap </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kubelet-config&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> namespace kube-system with the configuration </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> the kubelets</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the cluster</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Backing up kubelet config file to /etc/kubernetes/tmp/kubeadm-kubelet-config2416135083/config.yaml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[kubelet-start] Writing kubelet configuration to file </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/var/lib/kubelet/config.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[kubeconfig] Writing </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;admin.conf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> kubeconfig file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[kubeconfig] Writing </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;super-admin.conf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> kubeconfig file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to get nodes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to post CSRs </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> order </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> nodes to get long term certificate credentials</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[bootstrap-token] Configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[bootstrap-token] Configured RBAC rules to allow certificate rotation </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> all node client certificates</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the cluster</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[addons] Applied essential addon: CoreDNS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">W1221</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 21</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:38:14.892463   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12875</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postupgrade.go:188] the ConfigMap &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in the namespace &quot;kube-system&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> was not found. Assuming that kube-proxy was not deployed for this cluster. Note that once &#39;kubeadm upgrade apply&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> supports phases you will have to skip the kube-proxy upgrade manually</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/successful] SUCCESS</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Your</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cluster was upgraded to &quot;v1.29.0&quot;. Enjoy!</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/kubelet] Now that your control plane is upgraded, please proceed with upgrading your kubelets </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> haven&#39;t already done so.</span></span></code></pre></div><h2 id="å‡çº§å…¶ä»–æ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„-kubeadm" tabindex="-1">å‡çº§å…¶ä»–æ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„ <code>kubeadm</code> <a class="header-anchor" href="#å‡çº§å…¶ä»–æ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„-kubeadm" aria-label="Permalink to &quot;å‡çº§å…¶ä»–æ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„ \`kubeadm\`&quot;">â€‹</a></h2><p>å’Œä¹‹å‰å‡çº§ç¬¬ä¸€ä¸ªæ§åˆ¶å¹³é¢èŠ‚ç‚¹ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å‡çº§å…¶ä»–å‰©ä¸‹çš„<strong>æ§åˆ¶å¹³é¢</strong>èŠ‚ç‚¹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm upgrade node</span></span></code></pre></div><h2 id="é€æ­¥å‡çº§æ‰€æœ‰æ§åˆ¶å¹³é¢çš„èŠ‚ç‚¹çš„-kubelet-å’Œ-kubectl" tabindex="-1">é€æ­¥å‡çº§æ‰€æœ‰æ§åˆ¶å¹³é¢çš„èŠ‚ç‚¹çš„ <code>kubelet</code> å’Œ <code>kubectl</code> <a class="header-anchor" href="#é€æ­¥å‡çº§æ‰€æœ‰æ§åˆ¶å¹³é¢çš„èŠ‚ç‚¹çš„-kubelet-å’Œ-kubectl" aria-label="Permalink to &quot;é€æ­¥å‡çº§æ‰€æœ‰æ§åˆ¶å¹³é¢çš„èŠ‚ç‚¹çš„ \`kubelet\` å’Œ \`kubectl\`&quot;">â€‹</a></h2><h3 id="é©±é€-pod" tabindex="-1">é©±é€ Pod <a class="header-anchor" href="#é©±é€-pod" aria-label="Permalink to &quot;é©±é€ Pod&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl drain </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">node-to-drai</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --ignore-daemonsets</span></span></code></pre></div><p>å¯¹äºæˆ‘è€Œè¨€çš„è¯ï¼ŒæŒ‰æ­¥éª¤æ‰§è¡Œ</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl drain node1 --ignore-daemonsets</span></span></code></pre></div><p>å°±å¥½äº†ã€‚</p>`,18),F=n(`<h3 id="å–æ¶ˆé©±é€" tabindex="-1">å–æ¶ˆé©±é€ <a class="header-anchor" href="#å–æ¶ˆé©±é€" aria-label="Permalink to &quot;å–æ¶ˆé©±é€&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl uncordon node1</span></span></code></pre></div><p>æ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€ï¼Œçœ‹çœ‹ç‰ˆæœ¬æ˜¯å¦å¯¹é½ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo kubectl get nodes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    STATUS   ROLES           AGE   VERSION</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready    control-plane   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">71</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready    </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">          71</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d   v1.28.4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready    </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">          71</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d   v1.28.4</span></span></code></pre></div><h2 id="å‡çº§è´Ÿè½½èŠ‚ç‚¹" tabindex="-1">å‡çº§è´Ÿè½½èŠ‚ç‚¹ <a class="header-anchor" href="#å‡çº§è´Ÿè½½èŠ‚ç‚¹" aria-label="Permalink to &quot;å‡çº§è´Ÿè½½èŠ‚ç‚¹&quot;">â€‹</a></h2><h3 id="å‡çº§-kubeadm" tabindex="-1">å‡çº§ <code>kubeadm</code> <a class="header-anchor" href="#å‡çº§-kubeadm" aria-label="Permalink to &quot;å‡çº§ \`kubeadm\`&quot;">â€‹</a></h3>`,6),B=n('<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm upgrade node</span></span></code></pre></div><h3 id="é©±é€-pod-1" tabindex="-1">é©±é€ Pod <a class="header-anchor" href="#é©±é€-pod-1" aria-label="Permalink to &quot;é©±é€ Pod&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl drain node2 --ignore-daemonsets</span></span></code></pre></div><h3 id="å‡çº§-kubelet-å’Œ-kubectl" tabindex="-1">å‡çº§ <code>kubelet</code> å’Œ <code>kubectl</code> <a class="header-anchor" href="#å‡çº§-kubelet-å’Œ-kubectl" aria-label="Permalink to &quot;å‡çº§ `kubelet` å’Œ `kubectl`&quot;">â€‹</a></h3>',4),C=n(`<h3 id="å–æ¶ˆé©±é€-1" tabindex="-1">å–æ¶ˆé©±é€ <a class="header-anchor" href="#å–æ¶ˆé©±é€-1" aria-label="Permalink to &quot;å–æ¶ˆé©±é€&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>sudo kubectl uncordon node2</span></span></code></pre></div><p>æ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€ï¼Œçœ‹çœ‹ç‰ˆæœ¬æ˜¯å¦å¯¹é½ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo kubectl get nodes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    STATUS   ROLES           AGE   VERSION</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready    control-plane   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">71</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d   v1.29.0</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready    </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">          71</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d   v1.29.0</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready    </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">          71</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d   v1.29.0</span></span></code></pre></div><p>çŠ¶æ€ä¸º <code>Ready</code> å°±è¡¨ç¤ºå®Œæˆäº†ã€‚</p><h2 id="è´¡çŒ®è€…" tabindex="-1">è´¡çŒ®è€… <a class="header-anchor" href="#è´¡çŒ®è€…" aria-label="Permalink to &quot;è´¡çŒ®è€…&quot;">â€‹</a></h2>`,6),_=i("h2",{id:"æ–‡ä»¶å†å²",tabindex:"-1"},[s("æ–‡ä»¶å†å² "),i("a",{class:"header-anchor",href:"#æ–‡ä»¶å†å²","aria-label":'Permalink to "æ–‡ä»¶å†å²"'},"â€‹")],-1);function b(A,m,E,v,f,D){const p=l("NolebasePageProperties"),e=l("VPNolebaseInlineLinkPreview"),h=l("NolebaseGitContributors"),k=l("NolebaseGitChangelog");return o(),r("div",null,[c,a(p),u,i("p",null,[s("è¯·å…ˆå‚è€ƒ"),a(e,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/Kubernetes é›†ç¾¤çš„æ—¥å¸¸å‡çº§å’Œæ›´æ–°/é€šè¿‡ apt å‡çº§å’Œæ›´æ–° 1.29.0 ç‰ˆæœ¬çš„ kubeadm.html"},{default:t(()=>[s("é€šè¿‡ apt å‡çº§å’Œæ›´æ–° 1.29.0 ç‰ˆæœ¬çš„ kubeadm")]),_:1}),s(" å®Œæˆè¿™éƒ¨åˆ†çš„æ­¥éª¤ã€‚")]),y,i("p",null,[s("è¯·å…ˆå‚è€ƒ"),a(e,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/Kubernetes é›†ç¾¤çš„æ—¥å¸¸å‡çº§å’Œæ›´æ–°/é€šè¿‡ apt å‡çº§å’Œæ›´æ–° 1.29.0 ç‰ˆæœ¬çš„ kubelet å’Œ kubectl.html"},{default:t(()=>[s("é€šè¿‡ apt å‡çº§å’Œæ›´æ–° 1.29.0 ç‰ˆæœ¬çš„ kubelet å’Œ kubectl")]),_:1}),s(" å®Œæˆè¿™éƒ¨åˆ†çš„æ­¥éª¤ã€‚")]),F,i("p",null,[s("è¯·å…ˆå‚è€ƒ"),a(e,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/Kubernetes é›†ç¾¤çš„æ—¥å¸¸å‡çº§å’Œæ›´æ–°/é€šè¿‡ apt å‡çº§å’Œæ›´æ–° 1.29.0 ç‰ˆæœ¬çš„ kubeadm.html"},{default:t(()=>[s("é€šè¿‡ apt å‡çº§å’Œæ›´æ–° 1.29.0 ç‰ˆæœ¬çš„ kubeadm")]),_:1}),s(" å®Œæˆè¿™éƒ¨åˆ†çš„æ­¥éª¤ã€‚")]),B,i("p",null,[s("è¯·å…ˆå‚è€ƒ"),a(e,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/Kubernetes é›†ç¾¤çš„æ—¥å¸¸å‡çº§å’Œæ›´æ–°/é€šè¿‡ apt å‡çº§å’Œæ›´æ–° 1.29.0 ç‰ˆæœ¬çš„ kubelet å’Œ kubectl.html"},{default:t(()=>[s("é€šè¿‡ apt å‡çº§å’Œæ›´æ–° 1.29.0 ç‰ˆæœ¬çš„ kubelet å’Œ kubectl")]),_:1}),s(" å®Œæˆè¿™éƒ¨åˆ†çš„æ­¥éª¤ã€‚")]),C,a(h),_,a(k)])}const P=d(g,[["render",b]]);export{R as __pageData,P as default};
