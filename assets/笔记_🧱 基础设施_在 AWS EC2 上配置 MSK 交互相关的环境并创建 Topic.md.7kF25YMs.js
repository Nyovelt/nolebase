import{_ as p,c as e,J as i,m as s,w as r,a as h,V as d,E as a,o as g}from"./chunks/framework.WH0rnJL5.js";const D=JSON.parse('{"title":"在 AWS EC2 上配置 MSK 交互相关的环境并创建 Topic","description":"","frontmatter":{"tags":["基础设施/云服务商/亚马逊云/AWS","基础设施/消息中间件/Kafka/亚马逊云/AWS/MSK","基础设施/消息中间件/Kafka","开发/后端/消息队列/Kafka","操作系统/CentOS","操作系统/CentOS/CentOS-8","命令行/wget","开发/语言/Java","开发/语言/Java/JDK"]},"headers":[],"relativePath":"笔记/🧱 基础设施/在 AWS EC2 上配置 MSK 交互相关的环境并创建 Topic.md","filePath":"笔记/🧱 基础设施/在 AWS EC2 上配置 MSK 交互相关的环境并创建 Topic.md"}'),o={name:"笔记/🧱 基础设施/在 AWS EC2 上配置 MSK 交互相关的环境并创建 Topic.md"},F=s("h1",{id:"在-aws-ec2-上配置-msk-交互相关的环境并创建-topic",tabindex:"-1"},[h("在 AWS EC2 上配置 MSK 交互相关的环境并创建 Topic "),s("a",{class:"header-anchor",href:"#在-aws-ec2-上配置-msk-交互相关的环境并创建-topic","aria-label":'Permalink to "在 AWS EC2 上配置 MSK 交互相关的环境并创建 Topic"'},"​")],-1),c=d(`<h2 id="安装-java" tabindex="-1">安装 Java <a class="header-anchor" href="#安装-java" aria-label="Permalink to &quot;安装 Java&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum -y install java-11</span></span></code></pre></div><h2 id="下载-kafka" tabindex="-1">下载 Kafka <a class="header-anchor" href="#下载-kafka" aria-label="Permalink to &quot;下载 Kafka&quot;">​</a></h2><p>用下面的命令下载 Kafka，Kafka 的版本号应该要与 AWS Console 中的版本号一一对应</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://archive.apache.org/dist/kafka/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Kafka 版本</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">号</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/kafka_2.13-</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Kafka 版本</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">号</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.tgz</span></span></code></pre></div><p>以集群为 3.5.1 版本的 Kafka 为例：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://archive.apache.org/dist/kafka/3.5.1/kafka_2.13-3.5.1.tgz</span></span></code></pre></div><p>这样下载就好了</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> wget https://archive.apache.org/dist/kafka/3.5.1/kafka_2.13-3.5.1.tgz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--2024-01-28</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:03:13--  https://archive.apache.org/dist/kafka/3.5.1/kafka_2.13-3.5.1.tgz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> archive.apache.org </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">archive.apache.org</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">... </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">65.108</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.204.189, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">a01:4f9:1a:a084::2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to archive.apache.org </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">archive.apache.org</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">65.108.204.189</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">:443...</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connected.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> request sent, awaiting response... </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">200</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Length:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 106748875</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">102M</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) [application/x-gzip]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Saving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to: ‘kafka_2.13-3.5.1.tgz’</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">100%[</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=====================================================================================================&gt;] </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">106</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">,748,875 </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">11.2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">MB/s   in </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">13</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">s    </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2024-01-28</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:03:27 </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">7.86</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">- ‘kafka_2.13-3.5.1.tgz’ saved [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">106748875</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/106748875]</span></span></code></pre></div><p>然后解压缩</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -xzf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka_2.13-3.5.1.tgz</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[ec2-user@ip-10-100-105-95 </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]$ ls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  etoplus-mds  home  kafka_2.13-3.5.1  kafka_2.13-3.5.1.tgz</span></span></code></pre></div><h2 id="为环境进行额外配置" tabindex="-1">为环境进行额外配置 <a class="header-anchor" href="#为环境进行额外配置" aria-label="Permalink to &quot;为环境进行额外配置&quot;">​</a></h2><h3 id="下载-aws-msk-拓展库" tabindex="-1">下载 AWS MSK 拓展库 <a class="header-anchor" href="#下载-aws-msk-拓展库" aria-label="Permalink to &quot;下载 AWS MSK 拓展库&quot;">​</a></h3><p>在 EC2 上与 MSK 交互，需要使用到 AWS IAM 在 EC2 上的认证和鉴权机制，而这样的机制是要求我们安装额外的鉴权拓展类的，可以通过下面的命令下载</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://github.com/aws/aws-msk-iam-auth/releases/download/v1.1.1/aws-msk-iam-auth-1.1.1-all.jar</span></span></code></pre></div><p>下载好之后应该是这样的</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://github.com/aws/aws-msk-iam-auth/releases/download/v1.1.1/aws-msk-iam-auth-1.1.1-all.jar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--2024-01-28</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:03:56--  http://wget/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> wget </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">... failed: Name or service not known.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> unable to resolve host address ‘wget’</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--2024-01-28</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:03:57--  https://github.com/aws/aws-msk-iam-auth/releases/download/v1.1.1/aws-msk-iam-auth-1.1.1-all.jar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> github.com </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">github.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">... </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">20.205</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.243.166</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to github.com </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">github.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">20.205.243.166</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">:443...</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connected.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> request sent, awaiting response... </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">302</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Found</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Location:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://objects.githubusercontent.com/github-production-release-asset-2e65be/292053394/b0314dc8-42a6-4855-8114-7de9dc35c48b?X-Amz-Algorithm=AWS4-HMAC-SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Credential</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">AKIAVCODYLSA53PQK4ZA%2F20240128%2Fus-east-1%2Fs3%2Faws4_request</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Date</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">20240128</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">T100357Z</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Expires</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Signature</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">47</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">a72642671b2a24eca100c163ab3030a02fa51b7ca2e7c9bf321b14f33199e7</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-SignedHeaders</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">actor_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">key_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">repo_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">292053394</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">response-content-disposition</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">attachment%3B%20filename%3Daws-msk-iam-auth-1.1.1-all.jar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">response-content-type</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">application%2Foctet-stream [following]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--2024-01-28</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:03:57--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/292053394/b0314dc8-42a6-4855-8114-7de9dc35c48b?X-Amz-Algorithm=AWS4-HMAC-SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Credential</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">AKIAVCODYLSA53PQK4ZA%2F20240128%2Fus-east-1%2Fs3%2Faws4_request</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Date</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">20240128</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">T100357Z</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Expires</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Signature</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">47</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">a72642671b2a24eca100c163ab3030a02fa51b7ca2e7c9bf321b14f33199e7</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-SignedHeaders</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">actor_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">key_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">repo_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">292053394</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">response-content-disposition</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">attachment%3B%20filename%3Daws-msk-iam-auth-1.1.1-all.jar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">response-content-type</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">application%2Foctet-stream</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> objects.githubusercontent.com </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">objects.githubusercontent.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">... </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">185.199</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.111.133, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">185.199</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.108.133, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">185.199</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.109.133, ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to objects.githubusercontent.com </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">objects.githubusercontent.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">185.199.111.133</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">:443...</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connected.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> request sent, awaiting response... </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">200</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Length:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 12417891</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">12M</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) [application/octet-stream]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Saving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to: ‘aws-msk-iam-auth-1.1.1-all.jar’</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">100%[</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=====================================================================================================&gt;] </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">,417,891  </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2.82</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">MB/s   in </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4.8</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">s   </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2024-01-28</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:04:04 </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2.47</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">- ‘aws-msk-iam-auth-1.1.1-all.jar’ saved [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12417891</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/12417891]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">FINISHED</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --2024-01-28</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:04:04--</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Total</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> wall clock time: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">7.5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Downloaded:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> files, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">M in </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4.8</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">s </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2.47</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> MB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>移动到下载的 Kafka 的目录下的 <code>libs</code> 目录下面</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> aws-msk-iam-auth-1.1.1-all.jar ./kafka_2.13-3.5.1/libs/</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/client.properties</span></span></code></pre></div><h3 id="配置客户端连接配置" tabindex="-1">配置客户端连接配置 <a class="header-anchor" href="#配置客户端连接配置" aria-label="Permalink to &quot;配置客户端连接配置&quot;">​</a></h3><p>内容如下</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>security.protocol=SASL_SSL</span></span>
<span class="line"><span>sasl.mechanism=AWS_MSK_IAM</span></span>
<span class="line"><span>sasl.jaas.config=software.amazon.msk.auth.iam.IAMLoginModule required; sasl.client.callback.handler.class=software.amazon.msk.auth.iam.IAMClientCallbackHandler</span></span></code></pre></div><p>而这其中的</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>sasl.client.callback.handler.class=software.amazon.msk.auth.iam.IAMClientCallbackHandler</span></span></code></pre></div><p>一行就是用于自动通过 EC2 机器上的 IAM 认证机制完成认证的拓展库的关联配置。</p><h3 id="授予执行权限" tabindex="-1">授予执行权限 <a class="header-anchor" href="#授予执行权限" aria-label="Permalink to &quot;授予执行权限&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> +x ./kafka_2.13-3.5.1/bin/kafka-topics.sh</span></span></code></pre></div><h3 id="创建-topic" tabindex="-1">创建 Topic <a class="header-anchor" href="#创建-topic" aria-label="Permalink to &quot;创建 Topic&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">./kafka_2.13-&lt;Kafka</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 版本</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">号</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/bin/kafka-topics.sh --create --bootstrap-server </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">连接字符</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">串</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --command-config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Kafka 按版本</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">号</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/bin/client.properties --replication-factor </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">集群 Replica 大</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">小</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --partitions</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">分区</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">号</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --topic</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Topic 的名</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">字</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>比如这样</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">./kafka_2.13-3.5.1/bin/kafka-topics.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --create</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">连接字符</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">串</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --command-config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/client.properties --replication-factor </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> --partitions </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> --topic test.consumer</span></span></code></pre></div><h2 id="问题排查" tabindex="-1">问题排查 <a class="header-anchor" href="#问题排查" aria-label="Permalink to &quot;问题排查&quot;">​</a></h2><h3 id="创建时遭遇-replication-factor-3-larger-than-available-brokers-2" tabindex="-1">创建时遭遇 <code>Replication factor: 3 larger than available brokers: 2</code> <a class="header-anchor" href="#创建时遭遇-replication-factor-3-larger-than-available-brokers-2" aria-label="Permalink to &quot;创建时遭遇 \`Replication factor: 3 larger than available brokers: 2\`&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">./kafka_2.13-3.5.1/bin/kafka-topics.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --create</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">连接字符</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">串</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --command-config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/client.properties --replication-factor </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> --partitions </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> --topic test.consumer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">WARNING:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Due to limitations in metric names, topics with a period </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&#39;.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">or underscore </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&#39;_&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">could collide. To avoid issues it is best to use either, but not both.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> while executing topic command : Replication factor: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> larger than available brokers: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2024</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-01-28 </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:07:56,910] ERROR org.apache.kafka.common.errors.InvalidReplicationFactorException: Replication factor: 3 larger than available brokers: 2.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kafka.admin.TopicCommand$</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>这是因为连接到的集群的 Replica（副本）数量和命令要求的不一致导致的，不可以在创建 Topic 的时候指定超过 Replica（副本）数量的「副本倍率」，需要至少是 Replica（副本）数量的整数倍或者能被整除才行。</p><h3 id="创建时遭遇-class-software-amazon-msk-auth-iam-iamclientcallbackhandler-could-not-be-found" tabindex="-1">创建时遭遇 <code>Class software.amazon.msk.auth.iam.IAMClientCallbackHandler could not be found.</code> <a class="header-anchor" href="#创建时遭遇-class-software-amazon-msk-auth-iam-iamclientcallbackhandler-could-not-be-found" aria-label="Permalink to &quot;创建时遭遇 \`Class software.amazon.msk.auth.iam.IAMClientCallbackHandler could not be found.\`&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/kafka-topics.sh --create --bootstrap-server </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">连接字符</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">串</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --command-config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/client.properties --replication-factor </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> --partitions </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> --topic test.consumer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Exception</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in thread &quot;main&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.ConfigException: Invalid value software.amazon.msk.auth.iam.IAMClientCallbackHandler for configuration sasl.client.callback.handler.class: Class software.amazon.msk.auth.iam.IAMClientCallbackHandler could not be found.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.ConfigDef.parseType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ConfigDef.java:744</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.ConfigDef.parseValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ConfigDef.java:490</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.ConfigDef.parse</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ConfigDef.java:483</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.AbstractConfig.</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ini</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AbstractConfig.java:112</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.AbstractConfig.</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ini</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AbstractConfig.java:145</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.clients.admin.AdminClientConfig.</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ini</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AdminClientConfig.java:245</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.clients.admin.Admin.create</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Admin.java:134</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka.admin.TopicCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$TopicService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.createAdminClient</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">TopicCommand.scala:203</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka.admin.TopicCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$TopicService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.apply</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">TopicCommand.scala:207</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka.admin.TopicCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">TopicCommand.scala:51</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka.admin.TopicCommand.main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">TopicCommand.scala</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>之前下载好的 AWS Auth 拓展类需要移动到 Kafka 安装目录的 <code>libs</code> 目录下面：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> aws-msk-iam-auth-1.1.1-all.jar ./kafka_2.13-3.5.1/libs/</span></span></code></pre></div><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h2>`,41),C=s("h2",{id:"贡献者",tabindex:"-1"},[h("贡献者 "),s("a",{class:"header-anchor",href:"#贡献者","aria-label":'Permalink to "贡献者"'},"​")],-1),y=s("h2",{id:"文件历史",tabindex:"-1"},[h("文件历史 "),s("a",{class:"header-anchor",href:"#文件历史","aria-label":'Permalink to "文件历史"'},"​")],-1);function A(B,m,E,u,b,f){const n=a("NolebasePageProperties"),t=a("VPNolebaseInlineLinkPreview"),k=a("NolebaseGitContributors"),l=a("NolebaseGitChangelog");return g(),e("div",null,[F,i(n),c,s("p",null,[i(t,{href:"https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",target:"_blank",rel:"noreferrer"},{default:r(()=>[h("Step 4: Create a topic - Amazon Managed Streaming for Apache Kafka")]),_:1})]),C,i(k),y,i(l)])}const _=p(o,[["render",A]]);export{D as __pageData,_ as default};
