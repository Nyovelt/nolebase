import{_ as o,c as h,J as e,m as s,w as d,a as i,V as p,E as a,o as k}from"./chunks/framework.WH0rnJL5.js";const x=JSON.parse('{"title":"重置 Kubernetes 集群","description":"","frontmatter":{"tags":["命令行/kubeadm","软件/云原生/kubeadm","开发/云原生/容器网络接口","开发/云原生/容器网络接口/CNI","命令行/systemd","命令行/docker","开发/容器化/Docker","开发/云原生/Docker","软件/云原生/docker","命令行/containerd","软件/云原生/containerd","命令行/ipvsadm","软件/云原生/ipvsadm","计算机/操作系统/Linux","计算机/操作系统/Linux/命令行","操作系统/Linux"]},"headers":[],"relativePath":"笔记/🧱 基础设施/🚢 Kubernetes/重置 Kubernetes 集群.md","filePath":"笔记/🧱 基础设施/🚢 Kubernetes/重置 Kubernetes 集群.md"}'),c={name:"笔记/🧱 基础设施/🚢 Kubernetes/重置 Kubernetes 集群.md"},u=s("h1",{id:"重置-kubernetes-集群",tabindex:"-1"},[i("重置 Kubernetes 集群 "),s("a",{class:"header-anchor",href:"#重置-kubernetes-集群","aria-label":'Permalink to "重置 Kubernetes 集群"'},"​")],-1),b=s("h3",{id:"文档兼容性",tabindex:"-1"},[i("文档兼容性 "),s("a",{class:"header-anchor",href:"#文档兼容性","aria-label":'Permalink to "文档兼容性"'},"​")],-1),_=s("thead",null,[s("tr",null,[s("th",null,"主体"),s("th",null,"版本号"),s("th",null,"文档地址（如果有）")])],-1),m=s("td",null,"kubeadm",-1),g=s("td",null,"1.28",-1),F=p(`<p>用于删除集群，删除 CNI 配置，清空 IPVS，重设 Docker 和 containerd 的命令：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-aRPRe" id="tab-Q23ZOeL" checked="checked"><label for="tab-Q23ZOeL">多行</label><input type="radio" name="group-aRPRe" id="tab-ozYeGIu"><label for="tab-ozYeGIu">单行</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm reset --force</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm -rf /etc/cni/net.d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ipvsadm --clear</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl restart docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl restart containerd</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm reset --force </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm -rf /etc/cni/net.d </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ipvsadm --clear </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl restart docker </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl restart containerd</span></span></code></pre></div></div></div><h2 id="贡献者" tabindex="-1">贡献者 <a class="header-anchor" href="#贡献者" aria-label="Permalink to &quot;贡献者&quot;">​</a></h2>`,3),y=s("h2",{id:"文件历史",tabindex:"-1"},[i("文件历史 "),s("a",{class:"header-anchor",href:"#文件历史","aria-label":'Permalink to "文件历史"'},"​")],-1);function C(v,f,P,A,E,N){const t=a("NolebasePageProperties"),n=a("VPNolebaseInlineLinkPreview"),l=a("NolebaseGitContributors"),r=a("NolebaseGitChangelog");return k(),h("div",null,[u,e(t),b,s("table",null,[_,s("tbody",null,[s("tr",null,[m,g,s("td",null,[e(n,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:d(()=>[i("https://v1-28.docs.kubernetes.io/")]),_:1})])])])]),F,e(l),y,e(r)])}const K=o(c,[["render",C]]);export{x as __pageData,K as default};
