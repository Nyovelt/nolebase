import{_ as d,c as r,J as a,m as s,a as i,w as h,V as l,E as t,o as g}from"./chunks/framework.WH0rnJL5.js";const o="/assets/use-helm-to-install-nebulagraph-cluster-on-dev-and-testing-device-screenshot-1.4zxqvdZ5.png",C="/assets/use-helm-to-install-nebulagraph-cluster-on-dev-and-testing-device-screenshot-2.lOlfUCrd.png",y="/assets/use-helm-to-install-nebulagraph-cluster-on-dev-and-testing-device-screenshot-3.zG9GMglN.png",c="/assets/use-helm-to-install-nebulagraph-cluster-on-dev-and-testing-device-screenshot-4.1-P2EGHA.png",F="/assets/use-helm-to-install-nebulagraph-cluster-on-dev-and-testing-device-screenshot-5.yeHsP05g.png",J=JSON.parse('{"title":"在开发用的测试集群上用 Helm 安装 NebulaGraph","description":"","frontmatter":{"tags":["命令行/kind","开源/软件/kind","命令行/kubectl","软件/云原生/kubectl","命令行/helm","软件/云原生/helm","开发/容器化/Docker","开发/云原生/Docker","软件/云原生/docker","开发/云原生/Kubernetes","计算机/数据库/图数据库/nebulagraph"]},"headers":[],"relativePath":"笔记/🛠️ 开发/🗂 数据库/图数据库 Graph DB/🌃 NebulaGraph/在开发用的测试集群上用 Helm 安装 NebulaGraph.md","filePath":"笔记/🛠️ 开发/🗂 数据库/图数据库 Graph DB/🌃 NebulaGraph/在开发用的测试集群上用 Helm 安装 NebulaGraph.md"}'),u={name:"笔记/🛠️ 开发/🗂 数据库/图数据库 Graph DB/🌃 NebulaGraph/在开发用的测试集群上用 Helm 安装 NebulaGraph.md"},A=s("h1",{id:"在开发用的测试集群上用-helm-安装-nebulagraph",tabindex:"-1"},[i("在开发用的测试集群上用 Helm 安装 NebulaGraph "),s("a",{class:"header-anchor",href:"#在开发用的测试集群上用-helm-安装-nebulagraph","aria-label":'Permalink to "在开发用的测试集群上用 Helm 安装 NebulaGraph"'},"​")],-1),B=s("h2",{id:"先决条件",tabindex:"-1"},[i("先决条件 "),s("a",{class:"header-anchor",href:"#先决条件","aria-label":'Permalink to "先决条件"'},"​")],-1),b=s("li",null,"有可用的容器环境（比如 Docker）",-1),E=s("code",null,"kubectl",-1),m=s("code",null,"kind",-1),v=s("code",null,"helm",-1),D={id:"用-kind-创建一个测试用的-kubernetes-集群",tabindex:"-1"},_=s("code",null,"kind",-1),f=s("a",{class:"header-anchor",href:"#用-kind-创建一个测试用的-kubernetes-集群","aria-label":'Permalink to "用 [`kind`](https://kind.sigs.k8s.io/) 创建一个测试用的 Kubernetes 集群"'},"​",-1),T=l(`<p>编写一个 <code>kind.yaml</code> 文件，然后指定一下配置：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Cluster</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">nebula-graph</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">kind.x-k8s.io/v1alpha4</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">nodes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">control-plane</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">worker</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  extraPortMappings</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 提前分配好 NebulaGraph 自己的端口</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">containerPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">30101</span></span>
<span class="line highlighted"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    hostPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">30101</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">TCP</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 提前分配好 NebulaGraph Studio 的端口</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">containerPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">30102</span></span>
<span class="line highlighted"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    hostPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">30102</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">TCP</span></span></code></pre></div><p>用 <code>kind</code> 根据配置文件创建</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kind</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> create cluster --config ./kind.yaml</span></span></code></pre></div><p>创建之后应该可以用 <code>kind</code> 看到</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kind get clusters</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graph</span></span></code></pre></div><p>这个时候 <code>kubectl</code> 用的配置文件这个时候也应该已经写入和准备好了，直接执行下面的命令就可以获得节点状态</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get nodes</span></span></code></pre></div><p>这个时候应该可以看到这样的输出</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get nodes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                         STATUS   ROLES           AGE     VERSION</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graph-control-plane</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready    control-plane   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d22h   v1.27.3</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graph-worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          Ready    </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">          4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d22h   v1.27.3</span></span></code></pre></div><p>确认无误后就可以继续后面的步骤了</p><h2 id="添加-helm-chart" tabindex="-1">添加 Helm Chart <a class="header-anchor" href="#添加-helm-chart" aria-label="Permalink to &quot;添加 Helm Chart&quot;">​</a></h2>`,12),P=l(`<p>添加一下 Operator 的 Helm Chart</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> repo add nebula-operator https://vesoft-inc.github.io/nebula-operator/charts</span></span></code></pre></div><p>更新一下 Repo 引用</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> repo update</span></span></code></pre></div><p>这个时候用</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> repo list</span></span></code></pre></div><p>应该可以看到这些 repo</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> helm repo list</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           	URL</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">	https://vesoft-inc.github.io/nebula-operator/charts</span></span></code></pre></div><h2 id="安装-nebulagraph-的-operator" tabindex="-1">安装 NebulaGraph 的 Operator <a class="header-anchor" href="#安装-nebulagraph-的-operator" aria-label="Permalink to &quot;安装 NebulaGraph 的 Operator&quot;">​</a></h2><p>运行这个命令应该就能自动创建 Namespace 并且安装管理 NebulaGraph 集群用的 NebulaGraph Operator 了：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install nebula-operator nebula-operator/nebula-operator --namespace=nebula-operator-system --create-namespace</span></span></code></pre></div><p>切换到 NebulaGraph 的 Operator 所在的 Namespace 下：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config set-context --current --namespace nebula-operator-system</span></span></code></pre></div><p>这个时候应该可以看到这样的输出</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> helm list</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           	NAMESPACE             	REVISION	UPDATED                             	STATUS  	CHART                	APP VERSION</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">	nebula-operator-system	</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       	2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-12-29 </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:14:05.534035 +0800 CST	deployed	nebula-operator-1.7.3	</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1.7</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.3</span></span></code></pre></div><p>用 <code>get pods</code> 看看运行状态吧：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get pods</span></span></code></pre></div><p>应该会有类似的输出</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get pods</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                                             READY   STATUS    RESTARTS       AGE</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-operator-controller-manager-deployment-56c84fd68f-lnr85</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/2     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">107m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-operator-controller-manager-deployment-56c84fd68f-vz54m</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/2     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">107m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-operator-scheduler-deployment-6bf5cf6fc9-sx47x</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">107m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-operator-scheduler-deployment-6bf5cf6fc9-xq46m</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">107m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span></code></pre></div>`,19),N=l(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get crd</span></span></code></pre></div><p>应该会有类似的输出</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get crd</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                            CREATED AT</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebulaautoscalers.autoscaling.nebula-graph.io</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-12-29T02:14:03Z</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebulaclusters.apps.nebula-graph.io</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">             2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-12-29T02:14:03Z</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebularestores.apps.nebula-graph.io</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">             2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-12-29T02:14:03Z</span></span></code></pre></div><h2 id="通过-nebulagraph-operator-创建集群" tabindex="-1">通过 NebulaGraph Operator 创建集群 <a class="header-anchor" href="#通过-nebulagraph-operator-创建集群" aria-label="Permalink to &quot;通过 NebulaGraph Operator 创建集群&quot;">​</a></h2><p>在创建之前我们需要了解一下期望安装的 NebulaGraph 集群在创建 Kubernetes 硬盘和存储卷资源的时候所使用的 Storage Class 是什么：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get sc</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get sc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">standard</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (default)   rancher.io/local-path   Delete          WaitForFirstConsumer   false                  4d22h</span></span></code></pre></div>`,7),S={class:"tip custom-block"},R=s("p",{class:"custom-block-title"},[i("什么是 "),s("code",null,"sc"),i(" 和 Storage Class？")],-1),q=s("code",null,"sc",-1),G=s("code",null,"kind",-1),I=s("code",null,"standard",-1),x=l(`<p>接下来，和创建 NebulaGraph Operator 一样，用 Helm 安装一个 NebulaGraph 集群</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install &quot;nebula&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">	nebula-operator/nebula-cluster </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">	--namespace=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;nebula&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">	--set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nameOverride=nebula </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">	--set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nebula.storageClassName=&quot;standard&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">	--create-namespace</span></span></code></pre></div><p>切换到 NebulaGraph 集群所在的 Namespace 下：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config set-context --current --namespace nebula-operator-system</span></span></code></pre></div><p>这个时候应该可以看到这样的输出</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> helm list</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         	NAMESPACE	REVISION	UPDATED                             	STATUS  	CHART               	APP VERSION</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       	nebula   	</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       	2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-12-29 </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:10:27.293253 +0800 CST	deployed	nebula-cluster-1.7.3	</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1.7</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.3</span></span></code></pre></div><p>老样子，检查一下 Pod 运行状态</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get pods</span></span></code></pre></div><p>这个时候应该可以看到这样的输出</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get pods</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                              READY   STATUS    RESTARTS       AGE</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-exporter-c4bd8556b-jt2jk</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graphd-0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                   1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graphd-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                   1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-metad-0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                    1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-metad-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                    1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-metad-2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                    1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-storaged-0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-storaged-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-storaged-2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">122m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span></code></pre></div>`,10),O={id:"安装可视化客户端-nebulagraph-studio",tabindex:"-1"},V=s("a",{class:"header-anchor",href:"#安装可视化客户端-nebulagraph-studio","aria-label":'Permalink to "安装可视化客户端 [NebulaGraph Studio](https://github.com/vesoft-inc/nebula-studio)"'},"​",-1),M=l(`<p>克隆一下 NebulaGraph Studio 的客户端</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> clone git@github.com:vesoft-inc/nebula-studio.git</span></span></code></pre></div><p>切换到 <code>nebula-studio</code> 下面的 <code>deployment/helm</code> 目录里面</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nebula-studio/deployment/helm</span></span></code></pre></div><p>因为我们是开发和测试用的，安装之前记得修改成 SQLite3 作为数据持久化方案，如果有别的数据库实例，可以改成自己的 MySQL 实例的地址（比如 Kubernetes 部署的 MySQL）：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light one-dark-pro has-focused-lines vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ConfigMap</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {{ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">include &quot;nebula-studio.name&quot; .</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> }}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-config</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  studio-api.yaml</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Name: studio-api</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Host: 0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Port: 7001</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    MaxBytes: 1073741824</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Timeout: 60000</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Log:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      Mode: file</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      Level: error</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      KeepDays: 7</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Debug:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      Enable: false</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Auth:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      TokenName: &quot;studio_token&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      AccessSecret: &quot;login_secret&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      AccessExpire: 259200</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    File:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      UploadDir: &quot;/data/upload/&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      TasksDir: &quot;/data/tasks&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    DB:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # 1,2,3,4 corresponding to Silent, ERROR, Warn, INFO</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      LogLevel: 4</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      IgnoreRecordNotFoundError: false</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # AutoMigrate run auto migration for given models</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      AutoMigrate: true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # The database backend, either &quot;mysql&quot;, &quot;sqlite3&quot;.</span></span>
<span class="line has-focus"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      Type: &quot;sqlite3&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # Database host</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      Host: &quot;192.168.8.44:3306&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # Database name</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      Name: &quot;hetao_test&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # Database user</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      User: &quot;root&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # Database password</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      Password: &quot;nebula&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # For &quot;sqlite3&quot; only, database file path</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      SqliteDbFilePath: &quot;./data/tasks.db&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # The maximum open connections of the pool.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      MaxOpenConns: 30</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      # The maximum idle connections of the pool.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      MaxIdleConns: 10</span></span></code></pre></div><p>用当前目录的 Helm Chart 定义生成 Kubernetes 资源文件然后原地安装：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install nebula-studio --namespace nebula .</span></span></code></pre></div><p>这个时候应该可以看到这样的输出</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> helm list</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         	NAMESPACE	REVISION	UPDATED                             	STATUS  	CHART               	APP VERSION</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       	nebula   	</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       	2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-12-29 </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:10:27.293253 +0800 CST	deployed	nebula-cluster-1.7.3	</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1.7</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.3</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-studio</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">	nebula   	</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       	2024</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-01-02 </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">15</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:23:28.852275 +0800 CST	deployed	nebula-studio-0.1.2 	v3.0.0</span></span></code></pre></div><p>老样子，检查一下 Pod 运行状态</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get pods</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get pods</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                              READY   STATUS    RESTARTS       AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-exporter-c4bd8556b-jt2jk</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graphd-0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                   1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graphd-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                   1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-metad-0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                    1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-metad-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                    1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-metad-2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                    1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-storaged-0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-storaged-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-storaged-2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">123m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-studio-58f854d7c9-fflzq</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/1     Running   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">              63</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">m</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get svc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                       TYPE        CLUSTER-IP      EXTERNAL-IP   PORT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)                          </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-exporter-svc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        ClusterIP   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10.96</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.183.159   </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9100</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP                         </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graphd-headless</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ClusterIP   None            </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9669</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP,19669/TCP               </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graphd-svc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          NodePort    </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10.96</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.31.131    </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9669</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:30101/TCP,19669:31873/TCP   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-metad-headless</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      ClusterIP   None            </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9559</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP,19559/TCP               </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-storaged-headless</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   ClusterIP   None            </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9779</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP,19779/TCP,9778/TCP      </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d5h</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-studio-service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      ClusterIP   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10.96</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.122.0     </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        7001</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP                         </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">s</span></span></code></pre></div><p>这个时候可以发现 NebulaGraph Studio 并没有可以供外部访问的 NodePort 类型的 Service，还记得之前的 <code>kind.yaml</code> 提前分配的 <code>30102</code> 端口吗？这个时候我们手动暴露一个 NodePort 类型的 Service 给 NebulaGraph Studio 并且修改一下端口就好。</p>`,15),L=l(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> expose deployment nebula-studio --name=nebula-studio-nodeport --type=NodePort</span></span></code></pre></div><p>修改 NodePort 端口到 <code>30102</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> patch service nebula-studio-nodeport --type=&#39;json&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --patch=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;[{&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/spec/ports/0/nodePort&quot;, &quot;value&quot;:30102}]&#39;</span></span></code></pre></div><p>查看创建的 NodePort 类型的 Service 的状态</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get svc nebula-studio-nodeport -o wide</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get svc nebula-studio-nodeport -o wide</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                     TYPE       CLUSTER-IP    EXTERNAL-IP   PORT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)          </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">AGE   SELECTOR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-studio-nodeport</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   NodePort   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10.96</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.36.19   </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        7001</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:30102/TCP   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">29</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">s   app.kubernetes.io/instance=nebula-studio,app.kubernetes.io/name=nebula-studio</span></span></code></pre></div><p>这个时候返回到开发的设备上通过 <code>localhost:30102</code> 就可以访问到了：</p><p><img src="`+o+'" alt=""></p>',8),H={id:"配置可视化客户端-nebulagraph-studio",tabindex:"-1"},U=s("a",{class:"header-anchor",href:"#配置可视化客户端-nebulagraph-studio","aria-label":'Permalink to "配置可视化客户端 [NebulaGraph Studio](https://github.com/vesoft-inc/nebula-studio)"'},"​",-1),K=l(`<p>这个时候我们来配置客户端。</p><p>因为 NebulaGraph Studio 是部署在和 NebulaGraph 相同的 Kubernetes 集群中的，所以可以通过 Kubernetes 的内部通信域名访问到服务资源，这个时候可以通过</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get svc</span></span></code></pre></div><p>查看到当前 Namespace 下面的 Service 资源，我们找到 <code>nebula-graphd-svc</code> 资源就好</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-focused-lines vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl get svc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                       TYPE        CLUSTER-IP      EXTERNAL-IP   PORT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)                          </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-exporter-svc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        ClusterIP   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10.96</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.183.159   </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9100</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP                         </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d6h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graphd-headless</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ClusterIP   None            </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9669</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP,19669/TCP               </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d6h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-graphd-svc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          NodePort    </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10.96</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.31.131    </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9669</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:30101/TCP,19669:31873/TCP   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d6h</span></span>
<span class="line has-focus"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-metad-headless</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      ClusterIP   None            </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9559</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP,19559/TCP               </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d6h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-storaged-headless</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   ClusterIP   None            </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        9779</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP,19779/TCP,9778/TCP      </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">d6h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-studio-nodeport</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     NodePort    </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10.96</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.36.19     </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        7001</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:30102/TCP                   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">65</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">m</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nebula-studio-service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">      ClusterIP   </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10.96</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.122.0     </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        7001</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/TCP                         </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">66</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">m</span></span></code></pre></div><p>然后填写 Service 的名称到 Graphd IP 地址的字段里，用户名填写 <code>root</code>，默认配置下，密码随便填，就可以通信啦：</p><table><thead><tr><th>字段名</th><th>值</th></tr></thead><tbody><tr><td>Graphd IP</td><td><code>nebula-graphd-svc</code></td></tr><tr><td>端口</td><td><code>9669</code></td></tr><tr><td>用户名</td><td><code>root</code></td></tr><tr><td>密码</td><td>随便填，这里以 <code>123456</code> 为例子</td></tr></tbody></table><p><img src="`+C+'" alt=""></p><p>进入之后可以通过 Schema 这个标签页创建一个测试用的图空间：</p><p><img src="'+y+'" alt=""></p><p>它会生成这样的 nSQL 语句：</p><div class="language-SQL vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> SPACE </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`test_space`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (partition_num </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, vid_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> INT64)</span></span></code></pre></div><p>创建完成之后应该是这样的：</p><p><img src="'+c+'" alt=""></p><p>然后到「控制台」标签页就可以通过下面的命令查看当前的 NebulaGraph 中存储的图空间了：</p><div class="language-SQL vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">SHOW SPACES;</span></span></code></pre></div><p><img src="'+F+'" alt=""></p><h2 id="贡献者" tabindex="-1">贡献者 <a class="header-anchor" href="#贡献者" aria-label="Permalink to &quot;贡献者&quot;">​</a></h2>',18),w=s("h2",{id:"文件历史",tabindex:"-1"},[i("文件历史 "),s("a",{class:"header-anchor",href:"#文件历史","aria-label":'Permalink to "文件历史"'},"​")],-1);function Q(Y,j,z,W,X,Z){const e=t("NolebasePageProperties"),n=t("VPNolebaseInlineLinkPreview"),p=t("NolebaseGitContributors"),k=t("NolebaseGitChangelog");return g(),r("div",null,[A,a(e),B,s("ul",null,[b,s("li",null,[i("安装 "),a(n,{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl-macos/",target:"_blank",rel:"noreferrer"},{default:h(()=>[E]),_:1})]),s("li",null,[i("安装 "),a(n,{href:"https://kind.sigs.k8s.io/",target:"_blank",rel:"noreferrer"},{default:h(()=>[m]),_:1})]),s("li",null,[i("安装 "),a(n,{href:"https://helm.sh/",target:"_blank",rel:"noreferrer"},{default:h(()=>[v]),_:1})])]),s("h2",D,[i("用 "),a(n,{href:"https://kind.sigs.k8s.io/",target:"_blank",rel:"noreferrer"},{default:h(()=>[_]),_:1}),i(" 创建一个测试用的 Kubernetes 集群 "),f]),T,s("p",null,[i("按照 "),a(n,{href:"https://github.com/vesoft-inc/nebula-operator",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("NebulaGraph 官方文档")]),_:1}),i("的介绍，要用 Helm 管理和部署 NebulaGraph 集群到 Kubernetes 的话，需要安装 Operator。")]),P,s("p",null,[i("看看 NebulaGraph 的 "),a(n,{href:"https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("CRD（Custom Resources）")]),_:1}),i(" 有没有装上了")]),N,s("div",S,[R,s("p",null,[q,i(" 代表了 "),a(n,{href:"https://kubernetes.io/docs/concepts/storage/storage-classes/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Storage Class")]),_:1}),i("，对于使用 "),a(n,{href:"https://kind.sigs.k8s.io/",target:"_blank",rel:"noreferrer"},{default:h(()=>[G]),_:1}),i(" 创建的集群而言，默认填写 "),I,i(" 就可以了。")])]),x,s("h2",O,[i("安装可视化客户端 "),a(n,{href:"https://github.com/vesoft-inc/nebula-studio",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("NebulaGraph Studio")]),_:1}),i(),V]),M,s("blockquote",null,[s("p",null,[i("详细的操作背后的逻辑和含义可以在 "),a(n,{href:"/笔记/🧱 基础设施/🚢 Kubernetes/用 kind 创建的测试集群快速部署应用并暴露 NodePort 服务到宿主机方便调试.html"},{default:h(()=>[i("用 kind 创建的测试集群快速部署应用并暴露 NodePort 服务到宿主机方便调试")]),_:1}),i(" 一文中阅读了解。")])]),L,s("h2",H,[i("配置可视化客户端 "),a(n,{href:"https://github.com/vesoft-inc/nebula-studio",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("NebulaGraph Studio")]),_:1}),i(),U]),K,a(p),w,a(k)])}const ss=d(u,[["render",Q]]);export{J as __pageData,ss as default};
