import{_ as c,c as r,J as a,m as s,a as i,w as e,V as l,E as n,o as k}from"./chunks/framework.WH0rnJL5.js";const d="/assets/github-actions-use-bot-user-account-as-commiter-screenshot-01.8OA8FK-r.png",g="/assets/github-actions-use-bot-user-account-as-commiter-screenshot-02.Kjgvpxul.png",v=JSON.parse('{"title":"ä»“åº“å†…çš„ GitHub Actions å·¥ä½œæµä½¿ç”¨ GitHub Actions Bot æ¥æäº¤","description":"","frontmatter":{"tags":["ç½‘ç«™/GitHub","å¼€å‘/CICD","å¼€å‘/CICD/GitHub-Actions","å¼€å‘/æ ‡è®°è¯­è¨€/YAML","å¼€å‘/DevOps","å¼€å‘/å®¹å™¨åŒ–/Docker","å¼€å‘/äº‘åŸç”Ÿ/Docker","å¼€å‘/API/GraphQL","å¼€å‘/API/Protobuf","å¼€å‘/API/Swagger","å¼€å‘/API/OpenAPI","å‘½ä»¤è¡Œ/git","å¼€å‘/Git"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/ğŸŸ¢ æŒç»­é›†æˆ æŒç»­äº¤ä»˜ CICD/GitHub Actions/ä»“åº“å†…çš„ GitHub Actions å·¥ä½œæµä½¿ç”¨ GitHub Actions Bot æ¥æäº¤.md","filePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/ğŸŸ¢ æŒç»­é›†æˆ æŒç»­äº¤ä»˜ CICD/GitHub Actions/ä»“åº“å†…çš„ GitHub Actions å·¥ä½œæµä½¿ç”¨ GitHub Actions Bot æ¥æäº¤.md"}'),u={name:"ç¬”è®°/ğŸ› ï¸ å¼€å‘/ğŸŸ¢ æŒç»­é›†æˆ æŒç»­äº¤ä»˜ CICD/GitHub Actions/ä»“åº“å†…çš„ GitHub Actions å·¥ä½œæµä½¿ç”¨ GitHub Actions Bot æ¥æäº¤.md"},b=s("h1",{id:"ä»“åº“å†…çš„-github-actions-å·¥ä½œæµä½¿ç”¨-github-actions-bot-æ¥æäº¤",tabindex:"-1"},[i("ä»“åº“å†…çš„ GitHub Actions å·¥ä½œæµä½¿ç”¨ GitHub Actions Bot æ¥æäº¤ "),s("a",{class:"header-anchor",href:"#ä»“åº“å†…çš„-github-actions-å·¥ä½œæµä½¿ç”¨-github-actions-bot-æ¥æäº¤","aria-label":'Permalink to "ä»“åº“å†…çš„ GitHub Actions å·¥ä½œæµä½¿ç”¨ GitHub Actions Bot æ¥æäº¤"'},"â€‹")],-1),_=l(`<h2 id="è¯´æ˜" tabindex="-1">è¯´æ˜ <a class="header-anchor" href="#è¯´æ˜" aria-label="Permalink to &quot;è¯´æ˜&quot;">â€‹</a></h2><p>æˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦é€šè¿‡ GitHub Actions è”åŠ¨è§¦å‘å¹¶æ„å»ºè¯¸å¦‚ Swagger API æ–‡æ¡£ã€Swagger API ç”Ÿæˆä»£ç ã€GraphQL ç”Ÿæˆä»£ç ã€Protobuf ç”Ÿæˆä»£ç ä¹‹ç±»çš„æ–‡ä»¶æˆ–æ˜¯é¡¹ç›®ï¼Œåœ¨æ„å»ºä¹‹åæäº¤åˆ°ä»“åº“å†…ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥åˆ©ç”¨åˆ° Github Actions æä¾›çš„å·¥ä½œæµå†… Token å’Œå®˜æ–¹é¢„ç½®çš„æœºå™¨ç”¨æˆ· GitHub Actions Bot æ¥æ¨é€æˆ‘ä»¬æ–°çš„æäº¤ï¼Œè¿™æ ·åšä¹Ÿå¯ä»¥é¿å…å°†è‡ªåŠ¨æ„å»ºçš„ Commit å’Œè´¡çŒ®æ•°é‡è®¡å…¥åˆ°ç®¡ç†å‘˜è´¦å·åä¸‹ï¼Œä¹Ÿå¯ä»¥ä¸€ç›®äº†ç„¶çš„çœ‹å‡ºæ¥å…·ä½“æ˜¯ Bot æäº¤çš„è¿˜æ˜¯äººä¸ºå¹²é¢„æäº¤çš„ã€‚</p><h2 id="å®è·µæ–¹æ³•" tabindex="-1">å®è·µæ–¹æ³• <a class="header-anchor" href="#å®è·µæ–¹æ³•" aria-label="Permalink to &quot;å®è·µæ–¹æ³•&quot;">â€‹</a></h2><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">å·¥ä½œæµåç§°</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">concurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">concurrency-key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  workflow_dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  commit_job</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ä»£ç ç­¾å‡º</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">actions/checkout@v3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">          repository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">org/repo1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">          token</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">\${{ secrets.ACCESS_TOKEN }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">          path</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">clones/org/repo1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">åˆ›å»º hello_world.txt æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">        run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            cd clones/org/repo1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            echo &#39;Hello, world!&#39; &gt;&gt; hello_world.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">åŒæ­¥ repo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">        run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          cd clones/org/repo1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          bash -c &#39;if [ $(git status --porcelain | wc -l) -eq 0 ]; then</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            echo &quot;å·¥ä½œæ ‘æ— å˜æ›´ï¼Œè·³è¿‡æäº¤æ­¥éª¤...&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          else</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            echo &quot;æäº¤æ–‡ä»¶ä¸­...&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            git config user.name &quot;github-actions[bot]&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            git config user.email &quot;github-actions[bot]@users.noreply.github.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            git add .</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            git commit -m &quot;chore(generated): GitHub Actions Bot æäº¤çš„è®°å½•&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            git log -3 --oneline</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            echo &quot;æ¨é€æ›´æ–°ä¸­...&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            git push</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          fi&#39;</span></span></code></pre></div><h3 id="å·¥ä½œæµè¯´æ˜" tabindex="-1">å·¥ä½œæµè¯´æ˜ <a class="header-anchor" href="#å·¥ä½œæµè¯´æ˜" aria-label="Permalink to &quot;å·¥ä½œæµè¯´æ˜&quot;">â€‹</a></h3><p>åœ¨ä¸Šè¿°æ–‡ä»¶ä¸­æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæœ‰ 3 ä¸ªæ­¥éª¤çš„å·¥ä½œæµã€‚</p>`,6),y=s("code",null,"concurrency",-1),A=s("code",null,"concurrency",-1),C=l(`<p>å…¶æ¬¡æ˜¯æˆ‘ä»¬ä½¿ç”¨äº† <code>actions/checkout@v3</code> å·¥ä½œæµæ’ä»¶æ¥ä½¿ç”¨é¢„å…ˆé…ç½®çš„ Secret <code>secrets.ACCESS_TOKEN</code> å»å…‹éš† <code>org</code> ç»„ç»‡åä¸‹çš„ <code>repo1</code> ä»“åº“åˆ°æœ¬åœ° <code>clones/org/repo1</code> ç›®å½•ä¸‹ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ç®€å•çš„å‘½ä»¤ <code>echo &#39;Hello, world!&#39; &gt;&gt; hello_world.txt</code> åœ¨ <code>clones/org/repo1</code> ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªå†…å®¹ä¸º <code>Hello, world!</code> åä¸º <code>hello_world.txt</code> çš„æ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬åœ¨ç¬¬ä¸‰éƒ¨æ‰§è¡Œä¸­å…ˆåˆ‡æ¢åˆ° <code>clones/org/repo1</code> ç›®å½•ï¼Œç„¶åé€šè¿‡ <code>bash -c &#39;&lt;è„šæœ¬&gt;&#39;</code> å‘½ä»¤æ¥æ‰§è¡Œä¸€æ®µå¤šè¡Œä¸”å¸¦æœ‰é€»è¾‘åˆ¤æ–­çš„è„šæœ¬ã€‚<code>git status --porcelain | wc -l</code> ç”¨äºç»Ÿè®¡å½“å‰å·¥ä½œåŒºä¸‹çš„æ–‡ä»¶å˜æ›´æ•°é‡ï¼Œå¦‚æœæˆ‘ä»¬ä¸éœ€è¦æäº¤çš„æ—¶å€™å°±è·³è¿‡æäº¤äº†ã€‚åä¹‹æˆ‘ä»¬éœ€è¦å°†è‡ªå·±çš„ç”¨æˆ·é…ç½®ä¸ºç”¨æˆ·åä¸º <code>github-actions[bot]</code> å’Œé‚®ç®±ä¸º <code>github-actions[bot]@users.noreply.github.com</code> çš„ç”¨æˆ·ï¼Œç„¶ååˆ›å»ºæˆ‘ä»¬çš„æäº¤ <code>chore(generated): GitHub Actions Bot æäº¤çš„è®°å½•</code>ï¼Œæœ€åé€šè¿‡ <code>git push</code> æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ä¸Šã€‚</p><h3 id="ç»†èŠ‚å’ŒåŸç†è¯´æ˜" tabindex="-1">ç»†èŠ‚å’ŒåŸç†è¯´æ˜ <a class="header-anchor" href="#ç»†èŠ‚å’ŒåŸç†è¯´æ˜" aria-label="Permalink to &quot;ç»†èŠ‚å’ŒåŸç†è¯´æ˜&quot;">â€‹</a></h3><p>å·¥ä½œæµæ–‡ä»¶ä¸­æœ€å…³é”®çš„åœ°æ–¹åœ¨äºè¿™ä¸¤è¡Œï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config user.name &quot;github-actions[bot]&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config user.email &quot;github-actions[bot]@users.noreply.github.com&quot;</span></span></code></pre></div><p>è¿™ä¼šå°†æˆ‘ä»¬çš„ç”¨æˆ·é…ç½®ä¸ºç”¨æˆ·åä¸º <code>github-actions[bot]</code> å’Œé‚®ç®±ä¸º <code>github-actions[bot]@users.noreply.github.com</code> çš„ç”¨æˆ·ï¼Œæ¨é€åˆ° GitHub ä¹‹åå°±å¯ä»¥çœ‹åˆ°ä¸‹é¢å¸¦æœ‰å¤´åƒä¸”åç§°ä¸º <code>github-actions[bot]</code> çš„æäº¤è®°å½•å•¦ã€‚</p><p><img src="`+d+'" alt=""></p><h3 id="å·¥ä½œæµæ‰§è¡Œç»“æœ" tabindex="-1">å·¥ä½œæµæ‰§è¡Œç»“æœ <a class="header-anchor" href="#å·¥ä½œæµæ‰§è¡Œç»“æœ" aria-label="Permalink to &quot;å·¥ä½œæµæ‰§è¡Œç»“æœ&quot;">â€‹</a></h3><p><img src="'+g+'" alt=""></p><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2>',11),B=s("h2",{id:"è´¡çŒ®è€…",tabindex:"-1"},[i("è´¡çŒ®è€… "),s("a",{class:"header-anchor",href:"#è´¡çŒ®è€…","aria-label":'Permalink to "è´¡çŒ®è€…"'},"â€‹")],-1),m=s("h2",{id:"æ–‡ä»¶å†å²",tabindex:"-1"},[i("æ–‡ä»¶å†å² "),s("a",{class:"header-anchor",href:"#æ–‡ä»¶å†å²","aria-label":'Permalink to "æ–‡ä»¶å†å²"'},"â€‹")],-1);function F(E,f,G,P,q,H){const o=n("NolebasePageProperties"),t=n("VPNolebaseInlineLinkPreview"),h=n("NolebaseGitContributors"),p=n("NolebaseGitChangelog");return k(),r("div",null,[b,a(o),_,s("p",null,[i("é¦–å…ˆéœ€è¦æ³¨æ„çš„æ˜¯ç¬¬äºŒè¡Œçš„ "),y,i(" å±æ€§ï¼Œè®¾å®šè¯¥å±æ€§å¯ä»¥é¿å…å¤šä¸ªå·¥ä½œæµå¹¶å‘è¿è¡Œä»è€Œå¯¼è‡´é”™è¯¯ç”Ÿæˆç‰ˆæœ¬ä¸æ­£ç¡®çš„ä»£ç å½±å“ä¸šåŠ¡å¼€å‘ï¼Œå…³äº "),A,i(" å¯ä»¥åœ¨ "),a(t,{href:"https://docs.github.com/en/actions/using-jobs/using-concurrency",target:"_blank",rel:"noreferrer"},{default:e(()=>[i("å®˜æ–¹æ–‡æ¡£")]),_:1}),i(" ä¸­æ‰¾åˆ°æ›´å¤šè¯¦ç»†å†…å®¹ã€‚")]),C,s("ul",null,[s("li",null,[a(t,{href:"https://github.com/actions/checkout/discussions/479",target:"_blank",rel:"noreferrer"},{default:e(()=>[i('How can commits show "github actions bot" instead of Unknown ? Â· Discussion #479 Â· actions/checkout')]),_:1})])]),B,a(h),m,a(p)])}const x=c(u,[["render",F]]);export{v as __pageData,x as default};
